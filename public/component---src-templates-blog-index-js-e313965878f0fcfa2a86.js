(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/2pk":function(e,t,n){"use strict";n.r(t),n.d(t,"byDate",(function(){return E})),n.d(t,"byCategory",(function(){return y})),n.d(t,"BlogIndexTemplate",(function(){return I})),n.d(t,"pageQuery",(function(){return b}));var a=n("q1tI"),r=n.n(a),i=n("YwZP"),o=n("Qyje"),s=n.n(o),c=n("dI71"),l=n("zLVn"),u=n("Wbzz"),m=n("5Epl"),d=(n("dI2L"),function(e){var t=e.featuredImage,n=e.title,a=e.excerpt,i=e.slug,o=e.categories,s=void 0===o?[]:o,c=e.className,d=void 0===c?"":c;Object(l.a)(e,["featuredImage","title","excerpt","slug","categories","className"]);return r.a.createElement(u.Link,{to:i,className:"PostCard "+d},t&&r.a.createElement("div",{className:"PostCard--Image relative"},r.a.createElement(m.a,{background:!0,src:t,alt:n})),r.a.createElement("div",{className:"PostCard--Content"},n&&r.a.createElement("h3",{className:"PostCard--Title"},n),r.a.createElement("div",{className:"PostCard--Category"},s&&s.map((function(e){return e.category})).join(", ")),a&&r.a.createElement("div",{className:"PostCard--Excerpt"},a)))}),g=(n("1J5Z"),function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={limit:t.props.limit},t.increaseLimit=function(){return t.setState((function(e){return{limit:e.limit+t.props.perPageLimit}}))},t}return Object(c.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.posts,n=e.title,a=e.showLoadMore,i=e.loadMoreTitle,o=this.state.limit,s=t.slice(0,o||t.length);return r.a.createElement("div",{className:"PostSection"},n&&r.a.createElement("h2",{className:"PostSection--Title"},n),!!s.length&&r.a.createElement("div",{className:"PostSection--Grid"},s.map((function(e,t){return r.a.createElement(d,Object.assign({key:e.title+t},e))}))),a&&s.length<t.length&&r.a.createElement("div",{className:"taCenter"},r.a.createElement("button",{className:"button",onClick:this.increaseLimit},i)))},t}(r.a.Component));g.defaultProps={posts:[],title:"",limit:12,showLoadMore:!0,loadMoreTitle:"Load More",perPageLimit:12};var f=g,p=function(e){e.pageCount;return r.a.createElement(i.Location,null,(function(e){var t=e.location,n=s.a.parse(t.search.replace("?",""));return r.a.createElement("input",{type:"text",value:n.s||"",placeholder:"Search...",onChange:function(e){var n={};n.s=e.target.value,n=s.a.stringify(n);var a=t.href.replace(t.origin,"").replace(t.search,"");Object(u.navigate)(a+"?"+n)}})}))},h=(n("nDyf"),function(e){var t=e.categories,n=e.enableSearch;return r.a.createElement("div",{className:"PostCategoriesNav"},r.a.createElement(u.Link,{className:"NavLink",exact:"true",to:"/blog/"},"All"),t.map((function(e,t){return r.a.createElement(u.Link,{exact:"true",className:"NavLink",key:e.title+t,to:e.slug},e.title)})),n&&r.a.createElement(p,null))}),v=n("7oih"),E=function(e){var t=Date.now();return e.filter((function(e){return Date.parse(e.date)<=t}))},y=function(e,t,n){var a=function(e){return e.categories&&e.categories.filter((function(e){return e.category===t})).length};return"postCategories"===n?e.filter(a):e},I=function(e){var t=e.title,n=(e.subtitle,e.featuredImage,e.posts),a=void 0===n?[]:n,o=e.postCategories,c=void 0===o?[]:o,l=e.enableSearch,u=void 0===l||l,m=e.contentType;return r.a.createElement(i.Location,null,(function(e){var n=e.location,i=a&&a.length?y(E(a),t,m):[],o=n.search.replace("?","");if(o=s.a.parse(o),u&&o.s){var l=o.s.toLowerCase();i=i.filter((function(e){return e.frontmatter.title.toLowerCase().includes(l)}))}return r.a.createElement("main",{className:"Blog"},!!c.length&&r.a.createElement("section",{className:"section thin"},r.a.createElement("div",{className:"container"},r.a.createElement(h,{enableSearch:!0,categories:c}))),!!a.length&&r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement(f,{posts:i}))))}))},b=(t.default=function(e){var t=e.data,n=t.page,a=t.posts,i=t.postCategories;return r.a.createElement(v.a,{meta:n.frontmatter.meta||!1,title:n.frontmatter.title||!1},r.a.createElement(I,Object.assign({},n,n.fields,n.frontmatter,{posts:a.edges.map((function(e){return Object.assign({},e.node,e.node.frontmatter,e.node.fields)})),postCategories:i.edges.map((function(e){return Object.assign({},e.node,e.node.frontmatter,e.node.fields)}))})))},"3121249010")},"1J5Z":function(e,t,n){},"5Epl":function(e,t,n){"use strict";var a=n("dI71"),r=n("q1tI"),i=n.n(r),o=n("i8i4"),s=n.n(o),c=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).isIntersecting=!1,t}Object(a.a)(t,e);var n=t.prototype;return n.getCurrentScrollPos=function(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"");return e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop},n.handleScroll=function(){var e=this.getCurrentScrollPos()+window.innerHeight;!this.isIntersecting&&null!==this.ref.current&&s.a.findDOMNode(this.ref.current).getBoundingClientRect().top<=e&&(this.isIntersecting=!0,this.props.onChange(this),window.removeEventListener("scroll",this.handleScroll))},n.componentDidMount=function(){var e=this;this.ref=this.props.children.ref,window.addEventListener("scroll",(function(t){return e.handleScroll(t)})),this.handleScroll()},n.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll)},n.render=function(){return this.props.children},t}(r.Component),l=(n("PiVt"),function(e){function t(t){var n;return(n=e.call(this,t)||this).imageSizes=["320","450","640","750","800","900","1000","1200","1500","1600","2000"],n.state={isIntersecting:!1},n.handleIntersection=function(e){e.isIntersecting&&n.setState({isIntersecting:!0})},n.ref=i.a.createRef(),n}Object(a.a)(t,e);var n=t.prototype;return n.checkIsUploadcare=function(e){return"string"==typeof e&&e.includes("ucarecdn.com")},n.getResolutionString=function(e){return"small"===e?e="800x":"medium"===e?e="1000x":"large"===e&&(e="2000x"),e},n.render=function(){var e=this.props,t=e.background,n=e.backgroundSize,a=void 0===n?"cover":n,o=e.resolutions,s=void 0===o?"1000x":o,l=e.className,u=void 0===l?"":l,m=e.src,d=e.secSet,g=void 0===d?"":d,f=e.fullSrc,p=e.smallSrc,h=e.onClick,v=e.title,E=void 0===v?"":v,y=e.alt,I=void 0===y?"":y,b=e.lazy,C=void 0===b||b,N=this.checkIsUploadcare(m),S=!N||!C;N&&(g=this.imageSizes.map((function(e){return m+"-/progressive/yes/-/format/auto/-/preview/"+e+"x"+e+"/-/quality/lightest/"+e+".jpg "+e+"w"}))),f=m+(N?"-/progressive/yes/-/format/auto/-/resize/"+this.getResolutionString(s)+"/":""),p=m+(N?"-/progressive/yes/-/format/auto/-/resize/10x/":"");var w={};return w=t&&C?{backgroundImage:"url("+(this.state.isIntersecting?f:p)+")",backgroundSize:a}:{backgroundImage:"url("+f+")",backgroundSize:a},i.a.createElement(r.Fragment,null,N&&C&&i.a.createElement(c,{onChange:this.handleIntersection},i.a.createElement("div",{className:"BackgroundImage",ref:this.ref,style:{backgroundImage:"url("+p+")",backgroundSize:"cover"}},!t&&i.a.createElement("img",{className:"LazyImage "+(u+this.state.isIntersecting?" faded":""),src:this.state.isIntersecting?f:"",srcSet:this.state.isIntersecting?g:"",sizes:"100vw",onClick:h,title:E,alt:I}),t&&i.a.createElement("div",{className:C+" LazyImage BackgroundImage absolute "+(u+this.state.isIntersecting?" faded":""),style:w}))),S&&i.a.createElement(r.Fragment,null,t&&i.a.createElement("div",{className:"BackgroundImage absolute "+u,style:w}),!t&&i.a.createElement("img",{className:""+u,src:f,srcSet:g,sizes:"100vw",onClick:h,title:E,alt:I})))},t}(i.a.Component));t.a=l},PiVt:function(e,t,n){},dI2L:function(e,t,n){},nDyf:function(e,t,n){}}]);
//# sourceMappingURL=component---src-templates-blog-index-js-e313965878f0fcfa2a86.js.map